<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Admin Panel - grief.bio</title>
<style>
  body {
    margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212; color: #eee; display: flex; flex-direction: column; min-height: 100vh;
  }
  header {
    background: #1e1e1e; padding: 1rem 2rem;
    font-weight: bold; font-size: 1.5rem; letter-spacing: 1px;
  }
  nav {
    background: #222; padding: 1rem 2rem;
  }
  nav a {
    color: #ddd; margin-right: 1.5rem; text-decoration: none;
    font-weight: 600;
  }
  nav a:hover {
    color: #60c3ff;
  }
  main {
    flex-grow: 1; padding: 2rem 2rem;
    max-width: 700px; margin: 0 auto; width: 100%;
  }
  footer {
    background: #1e1e1e; text-align: center; padding: 1rem;
    font-size: 0.9rem; color: #777;
  }
  section {
    margin-bottom: 3rem;
    background: #1e1e1e; padding: 1.5rem; border-radius: 8px;
  }
  h2 {
    margin-top: 0;
    margin-bottom: 1rem;
  }
  label {
    display: block; margin-top: 0.75rem; font-weight: 600;
  }
  input[type="text"] {
    width: 100%; padding: 0.4rem 0.5rem; margin-top: 0.25rem;
    border-radius: 4px; border: none;
    background: #333; color: #eee;
    font-size: 1rem;
  }
  button {
    margin-top: 1rem; padding: 0.6rem 1.2rem; background: #60c3ff; border: none; border-radius: 4px;
    font-weight: 700; cursor: pointer; color: #121212;
    transition: background 0.3s;
  }
  button:hover {
    background: #479cd9;
  }
  .btn-secondary {
    background: #4CAF50; color: #121212; margin-left: 10px;
  }
  .btn-secondary:hover {
    background: #3b8e3b;
  }
  .user-list {
    margin-top: 1rem; max-height: 200px; overflow-y: auto;
    border: 1px solid #444; border-radius: 6px; padding: 0.5rem;
    color: #ddd;
  }
  .user-list div {
    padding: 0.25rem 0.5rem; border-bottom: 1px solid #333;
    display: flex; justify-content: space-between; align-items: center;
  }
  .user-list div:last-child {
    border-bottom: none;
  }
  .user-name {
    font-weight: 600;
  }
  .btn-small {
    background: #f44336; color: white; padding: 0.25rem 0.6rem;
    font-size: 0.85rem; border-radius: 4px; cursor: pointer; border: none;
    transition: background 0.3s;
  }
  .btn-small:hover {
    background: #c23127;
  }
  #rename-status {
    margin-top: 1rem;
    font-weight: 600;
  }
</style>
</head>
<body>

<header>grief.bio</header>

<nav>
  <a href="index.html">Home</a>
  <a href="admin.html">Admin</a>
  <a href="templates.html">Templates</a>
  <a href="badges.html">Badges</a>
</nav>

<main>

<section id="ban-section">
  <h2>Ban / Unban Users</h2>
  <label for="username-ban">Username:</label>
  <input type="text" id="username-ban" placeholder="Enter username" autocomplete="off" />
  <button id="ban-btn">Ban User</button>
  <button id="unban-btn" class="btn-secondary">Unban User</button>

  <div class="user-list" id="banned-users-list">
    <strong>Banned Users:</strong>
    <div id="banned-users-container">Loading...</div>
  </div>
</section>

<section id="rename-section">
  <h2>Rename User</h2>
  <label for="username-rename">Current Username:</label>
  <input type="text" id="username-rename" placeholder="Enter current username" autocomplete="off" />
  
  <label for="new-username">New Username:</label>
  <input type="text" id="new-username" placeholder="Enter new username" autocomplete="off" />
  
  <button id="rename-btn">Rename User</button>
  <div id="rename-status"></div>
</section>

</main>

<footer>Â© 2025 grief.bio</footer>

<script>
  // Simulated user database (local only)
  let users = [
    { username: "alice" },
    { username: "bob" },
    { username: "charlie" }
  ];
  let bannedUsers = [];

  function renderBannedUsers() {
    const container = document.getElementById('banned-users-container');
    container.innerHTML = '';
    if(bannedUsers.length === 0) {
      container.textContent = "No banned users.";
      return;
    }
    bannedUsers.forEach(u => {
      const div = document.createElement('div');
      div.innerHTML = `<span class="user-name">${u}</span> <button class="btn-small" onclick="unbanUser('${u}')">Unban</button>`;
      container.appendChild(div);
    });
  }

  function banUser() {
    const input = document.getElementById('username-ban');
    const username = input.value.trim().toLowerCase();
    if (!username) return alert('Please enter a username.');
    if (!users.find(u => u.username === username)) {
      return alert("User doesn't exist.");
    }
    if (bannedUsers.includes(username)) {
      return alert('User is already banned.');
    }
    bannedUsers.push(username);
    alert(`User "${username}" banned.`);
    input.value = '';
    renderBannedUsers();
  }

  function unbanUser(username) {
    bannedUsers = bannedUsers.filter(u => u !== username);
    alert(`User "${username}" unbanned.`);
    renderBannedUsers();
  }

  function unbanUserFromInput() {
    const input = document.getElementById('username-ban');
    const username = input.value.trim().toLowerCase();
    if (!username) return alert('Please enter a username.');
    if (!bannedUsers.includes(username)) {
      return alert('User is not banned.');
    }
    unbanUser(username);
    input.value = '';
  }

  function renameUser() {
    const current = document.getElementById('username-rename').value.trim().toLowerCase();
    const next = document.getElementById('new-username').value.trim().toLowerCase();
    const status = document.getElementById('rename-status');
    status.textContent = '';
    if (!current || !next) {
      status.style.color = 'red';
      status.textContent = 'Please enter both current and new usernames.';
      return;
    }
    if (!users.find(u => u.username === current)) {
      status.style.color = 'red';
      status.textContent = `User "${current}" not found.`;
      return;
    }
    if (users.find(u => u.username === next)) {
      status.style.color = 'red';
      status.textContent = `Username "${next}" already taken.`;
      return;
    }
    users = users.map(u => {
      if (u.username === current) return { username: next };
      return u;
    });
    status.style.color = 'limegreen';
    status.textContent = `User "${current}" renamed to "${next}".`;
    document.getElementById('username-rename').value = '';
    document.getElementById('new-username').value = '';
  }

  document.getElementById('ban-btn').addEventListener('click', banUser);
  document.getElementById('unban-btn').addEventListener('click', unbanUserFromInput);
  document.getElementById('rename-btn').addEventListener('click', renameUser);

  renderBannedUsers();
</script>

</body>
</html>
