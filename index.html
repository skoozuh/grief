<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>grave.bio — your bio, refined</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
/* ------------- VARIABLES & RESET ------------- */
:root{
  --bg:#050506;
  --surface:#0f1114;
  --muted:#9aa0a6;
  --accent-a:#c0392b;   /* blood-red */
  --accent-b:#2ec4c4;   /* muted-cyan */
  --glass: rgba(255,255,255,0.03);
  --radius:16px;
  --trans:260ms cubic-bezier(.2,.9,.25,1);
  --shadow: 0 18px 48px rgba(0,0,0,0.6);
  --maxw:1100px;
  --font: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:var(--font); background:var(--bg); color:#e9eef2;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  -webkit-tap-highlight-color:transparent; scroll-behavior:smooth;
}

/* custom scrollbar */
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--accent-b),var(--accent-a));border-radius:12px;border:2px solid rgba(0,0,0,0.25)}
body{scrollbar-color: linear-gradient(var(--accent-b),var(--accent-a)) transparent}

/* utilities */
.container{max-width:var(--maxw);margin:86px auto;padding:0 18px}
.row{display:flex;gap:20px;align-items:center}
.center{display:grid;place-items:center}
.flex{display:flex}
.space{justify-content:space-between}
.hidden{display:none}
.cta{cursor:pointer}
.small{font-size:13px;color:var(--muted)}

/* ------------- HEADER ------------- */
.header{
  position:fixed;top:18px;left:50%;transform:translateX(-50%);width:calc(100% - 36px);max-width:var(--maxw);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:999px;
  padding:10px 16px; display:flex;gap:12px;align-items:center;z-index:1200;border:1px solid rgba(255,255,255,0.02)
}
.logo{display:flex;gap:12px;align-items:center;cursor:pointer;user-select:none}
.logo-mark{width:38px;height:38px;border-radius:10px;display:grid;place-items:center;font-weight:700;color:#111;background:linear-gradient(135deg,var(--accent-a),var(--accent-b));box-shadow:0 8px 26px rgba(0,0,0,0.4)}
.logo-text{font-weight:700;font-size:16px}
.header-nav{margin-left:24px;display:flex;gap:12px}
.header-nav button{background:transparent;border:none;color:var(--muted);padding:8px 12px;border-radius:10px;font-weight:600;cursor:pointer}
.header-nav button.active{background:linear-gradient(90deg,var(--accent-b),var(--accent-a));color:#0b0b0b;box-shadow:0 8px 26px rgba(0,0,0,0.4)}
.header-actions{margin-left:auto;display:flex;gap:8px;align-items:center}
.btn{padding:10px 16px;border-radius:999px;border:none;font-weight:700;cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--accent-b),var(--accent-a));color:#0b0b0b;box-shadow:0 12px 36px rgba(0,0,0,0.45)}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}

/* ------------- LAYOUT ------------- */
.layout{display:grid;grid-template-columns: 1fr 420px;gap:32px;align-items:start;margin-top:28px}
@media(max-width:980px){ .layout{grid-template-columns:1fr; padding-bottom:28px} }

/* ------------- HERO (centered) ------------- */
.hero{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
  border-radius:16px;padding:22px;border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow)
}
.title{font-size:38px;margin:6px 0 8px 0;line-height:1.02;font-weight:700}
.title .accent{color:var(--accent-a)}
.lead{color:var(--muted);margin:0 0 18px;font-size:15px;max-width:60ch}
.hero-actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:12px}

/* ------------- PREVIEW CARD (right column) ------------- */
.preview-wrap{position:sticky;top:100px}
.preview{
  width:100%;border-radius:18px;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.12));
  border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow);overflow:visible
}
.preview-top{display:flex;gap:14px;align-items:center}
.avatar{width:84px;height:84px;border-radius:18px;background:linear-gradient(135deg,var(--accent-a),var(--accent-b));display:grid;place-items:center;font-weight:800;color:#111;font-size:26px}
.info{flex:1}
.username{font-weight:700;font-size:18px;display:flex;align-items:center;gap:8px}
.bio{color:var(--muted);font-size:13px;margin-top:6px}
.badges{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.badge{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px;border:1px solid rgba(255,255,255,0.03)}

/* ------------- LINKS (vertical burger style) ------------- */
.links-vertical{display:flex;flex-direction:column;gap:10px;margin-top:18px}
.link-vertical{
  display:flex;align-items:center;gap:12px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.08));
  border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform var(--trans),box-shadow var(--trans)
}
.link-vertical:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,0.6)}
.link-icon{width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,var(--accent-b),var(--accent-a));display:grid;place-items:center;color:#070707;font-weight:800}
.link-main{font-weight:700}
.link-sub{font-size:13px;color:var(--muted)}

/* ------------- PANELS BELOW (full width) ------------- */
.panels{margin-top:18px;display:flex;flex-direction:column;gap:12px}
.panel{display:none;background:transparent;padding:12px}
.panel.active{display:block}
.panel-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}

/* ------------- ADMIN MODAL (password driven) ------------- */
.modal-backdrop{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:1400;align-items:center;justify-content:center}
.modal{background:var(--surface);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);width:92%;max-width:680px;box-shadow:0 30px 90px rgba(0,0,0,0.8)}
.modal h3{margin:0 0 8px 0}
.modal .form{display:flex;gap:8px;margin-top:10px}
.modal .input{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
.modal .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}

/* ------------- TOASTS ------------- */
.toast-wrap{position:fixed;right:18px;bottom:18px;z-index:1600;display:flex;flex-direction:column;gap:10px}
.toast{background:linear-gradient(90deg,var(--accent-b),var(--accent-a));padding:10px 14px;border-radius:10px;color:#0b0b0b;font-weight:800;box-shadow:0 12px 40px rgba(0,0,0,0.6)}

/* ------------- small screens ------------- */
@media(max-width:980px){
  .header{left:12px;transform:none;width:calc(100% - 24px)}
  .layout{grid-template-columns:1fr;gap:18px}
  .preview-wrap{position:relative;top:0}
  .preview{margin-top:8px}
  .hero{border-radius:14px;padding:16px}
}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header" role="banner">
  <div class="logo" id="brand" tabindex="0">
    <div class="logo-mark" aria-hidden="true">G</div>
    <div>
      <div class="logo-text">grave.bio</div>
      <div class="small">your bio, refined</div>
    </div>
  </div>

  <nav class="header-nav" role="navigation" aria-label="Main navigation">
    <button class="nav-btn active" data-panel="features">Features</button>
    <button class="nav-btn" data-panel="pricing">Pricing</button>
    <button class="nav-btn" data-panel="help">Help</button>
  </nav>

  <div class="header-actions">
    <button class="btn ghost" id="btnPreview">Preview</button>
    <button class="btn primary" id="btnJoin">Join Waitlist</button>
    <button class="btn ghost" id="btnAdmin">Admin</button>
  </div>
</header>

<!-- CONTAINER -->
<div class="container">
  <div class="layout">

    <!-- LEFT: hero + panels (main content) -->
    <div>
      <section class="hero">
        <h1 class="title">Polished link pages for creators & builders.</h1>
        <p class="lead">One refined card to hold your links, music, and work. Fast, shareable, and surgically minimal.</p>

        <div class="hero-actions">
          <button class="btn primary" id="heroClaim">Claim username</button>
          <button class="btn ghost" id="heroEdit">Edit profile</button>
          <div class="small">No noise. No tracking. Just your links.</div>
        </div>

        <!-- Panels container (hidden by default) -->
        <div class="panels" id="panels">
          <div id="p-features" class="panel">
            <h3>Features</h3>
            <div class="panel-grid">
              <div class="feature">Vanity username</div>
              <div class="feature">Link ordering (drag & drop)</div>
              <div class="feature">Embed now playing</div>
              <div class="feature">Theme toggle</div>
            </div>
          </div>

          <div id="p-pricing" class="panel">
            <h3>Pricing</h3>
            <div class="panel-grid">
              <div class="feature">Free — basic profile</div>
              <div class="feature">Pro — custom domains & analytics</div>
              <div class="feature">Business — team & white-label</div>
            </div>
          </div>

          <div id="p-help" class="panel">
            <h3>Help</h3>
            <div class="faq">
              <div class="faq-item">
                <div class="q">How to claim a username?</div>
                <div class="a">Click ‘Claim username’ and follow the mock flow. This demo stores local preview only.</div>
              </div>
              <div class="faq-item">
                <div class="q">Can I reorder links?</div>
                <div class="a">Yes — drag and drop link items in the preview to reorder them (client-side).</div>
              </div>
            </div>
          </div>
        </div>

      </section>
    </div>

    <!-- RIGHT: preview card (vertical links) -->
    <aside class="preview-wrap">
      <div class="preview" id="previewCard" role="region" aria-label="Profile preview">
        <div class="preview-top">
          <div class="avatar" id="pv-avatar">G</div>
          <div class="info">
            <div class="username" id="pv-name">grave</div>
            <div class="bio" id="pv-bio">I share music, projects and links.</div>
            <div class="badges" id="pv-badges"><div class="badge">Creator</div><div class="badge">Early</div></div>
          </div>
        </div>

        <div class="links-vertical" id="linksList" aria-live="polite">
          <div class="link-vertical" data-href="https://grave.bio/grave" draggable="true">
            <div class="link-icon">G</div>
            <div>
              <div class="link-main">grave.bio/grave</div>
              <div class="link-sub">Tap to copy</div>
            </div>
          </div>

          <a class="link-vertical" href="https://open.spotify.com/" target="_blank" rel="noopener noreferrer">
            <div class="link-icon">S</div>
            <div>
              <div class="link-main">Now Playing — Dear Mama</div>
              <div class="link-sub">Spotify</div>
            </div>
          </a>

          <a class="link-vertical" href="https://twitter.com/" target="_blank" rel="noopener noreferrer">
            <div class="link-icon">T</div>
            <div>
              <div class="link-main">@grave</div>
              <div class="link-sub">Twitter</div>
            </div>
          </a>
        </div>

        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
          <div class="small">Live • <span id="lastUpdated">1 day ago</span></div>
          <div class="small">Share • <span id="shareCount">0</span></div>
        </div>
      </div>
    </aside>

  </div>

  <!-- BELOW: global panels area (for larger content) -->
  <div style="margin-top:18px">
    <div id="globalPanels" style="display:block">
      <!-- expanded content displayed here when user opens nav -->
    </div>
  </div>
</div>

<!-- ADMIN PASSWORD MODAL -->
<div class="modal-backdrop" id="adminModal" role="dialog" aria-hidden="true">
  <div class="modal" role="document" tabindex="0">
    <h3>Admin Access</h3>
    <div style="color:var(--muted)">Enter admin password to reveal mock admin panel (demonstration only).</div>
    <div class="form" style="margin-top:12px">
      <input id="adminPass" class="input" placeholder="password (demo)" />
      <button class="btn primary" id="adminSubmit">Open</button>
    </div>
    <div class="actions" style="margin-top:12px">
      <button class="btn ghost" id="adminCancel">Cancel</button>
    </div>
  </div>
</div>

<!-- TOASTS -->
<div class="toast-wrap" id="toasts" aria-live="polite"></div>

<script>
/* =========================
   Core interactions
   ========================= */

/* helpers */
const $ = (s, c=document) => c.querySelector(s);
const $$ = (s, c=document) => Array.from((c||document).querySelectorAll(s));
function toast(msg, tm=2200){
  const wrap = $('#toasts');
  const el = document.createElement('div'); el.className='toast'; el.textContent = msg;
  wrap.appendChild(el);
  setTimeout(()=> { el.style.opacity = '0'; el.style.transform='translateY(6px)'; setTimeout(()=> el.remove(), 260); }, tm);
}

/* NAV: header nav buttons toggling panels */
$$('.nav-btn').forEach(btn=>{
  btn.addEventListener('click', ()=> {
    const target = btn.dataset.panel;
    // toggle active class visually
    $$('.nav-btn').forEach(b=> b.classList.remove('active'));
    btn.classList.add('active');
    // show corresponding panel below hero
    $$('.panel').forEach(p=> p.classList.remove('active'));
    const panel = document.querySelector('#p-' + target);
    if(panel){ panel.classList.add('active'); panel.scrollIntoView({behavior:'smooth', block:'start'}); }
  });
});

/* HERO actions */
$('#heroClaim').addEventListener('click', ()=> {
  // show signup panel
  $$('.panel').forEach(p=> p.classList.remove('active'));
  $('#p-pricing').classList.remove('active');
  $('#p-features').classList.remove('active');
  $('#p-help').classList.remove('active');
  $('#p-pricing').setAttribute('aria-hidden','true');
  $('#p-features').setAttribute('aria-hidden','true');
  $('#p-help').setAttribute('aria-hidden','true');

  // open global signup area instead
  openSignup();
});
$('#heroEdit').addEventListener('click', ()=> {
  // scroll to preview, open inline editor below panels
  showEditor();
});
$('#brand').addEventListener('click', ()=> {
  window.scrollTo({top:0,behavior:'smooth'});
  // close any open panels
  $$('.panel').forEach(p=>p.classList.remove('active'));
  $$('.nav-btn').forEach(b=>b.classList.remove('active'));
});

/* PREVIEW interactions: copy main local link */
$('#linksList').addEventListener('click', (e)=>{
  const item = e.target.closest('.link-vertical');
  if(!item) return;
  // if it's an anchor, browser handles it.
  if(item.tagName.toLowerCase() === 'a') return;
  const href = item.dataset.href || (item.querySelector('.link-sub') && item.querySelector('.link-sub').textContent);
  if(href){
    navigator.clipboard?.writeText(href).then(()=> toast('Copied: ' + href)).catch(()=> toast('Copy failed'));
  }
});

/* DRAG & DROP: vertical reorder */
(function setupDrag(){
  const list = $('#linksList');
  let dragEl = null;
  function dragStart(e){
    dragEl = e.target.closest('.link-vertical');
    if(!dragEl) return;
    dragEl.style.opacity = '0.4';
    e.dataTransfer.effectAllowed = 'move';
  }
  function dragOver(e){
    e.preventDefault();
    const target = e.target.closest('.link-vertical');
    if(!target || target === dragEl) return;
    const rect = target.getBoundingClientRect();
    const next = (e.clientY - rect.top) > (rect.height / 2);
    target.parentNode.insertBefore(dragEl, next ? target.nextSibling : target);
  }
  function dragEnd(){ if(dragEl) dragEl.style.opacity = ''; dragEl = null; }
  function attach(){
    $$('.link-vertical', list).forEach(it=>{
      it.setAttribute('draggable','true');
      it.removeEventListener('dragstart', dragStart);
      it.removeEventListener('dragend', dragEnd);
      it.removeEventListener('dragover', dragOver);
      it.addEventListener('dragstart', dragStart);
      it.addEventListener('dragend', dragEnd);
      it.addEventListener('dragover', dragOver);
    });
  }
  new MutationObserver(attach).observe(list, {childList:true});
  attach();
})();

/* PREVIEW profile update function used by editor */
function updatePreview({name, bio, links}){
  if(name) $('#pv-name').textContent = name;
  if(bio) $('#pv-bio').textContent = bio;
  if(Array.isArray(links)){
    const list = $('#linksList'); list.innerHTML = '';
    // main profile link
    const main = document.createElement('div'); main.className='link-vertical'; main.dataset.href = `https://grave.bio/${encodeURIComponent(name || 'grave')}`;
    main.innerHTML = `<div class="link-icon">G</div><div><div class="link-main">grave.bio/${name || 'grave'}</div><div class="link-sub">${main.dataset.href}</div></div>`;
    list.appendChild(main);
    links.forEach(l=>{
      try{
        const url = new URL(l);
        const label = url.hostname.replace('www.','');
        const a = document.createElement('a'); a.className='link-vertical'; a.href = l; a.target='_blank'; a.rel='noopener noreferrer';
        a.innerHTML = `<div class="link-icon">${label.slice(0,1).toUpperCase()}</div><div><div class="link-main">${label}</div><div class="link-sub">${l}</div></div>`;
        list.appendChild(a);
      }catch(err){
        const v = document.createElement('div'); v.className='link-vertical'; v.dataset.href = l;
        v.innerHTML = `<div class="link-icon">${(l||' ').slice(0,1).toUpperCase()}</div><div><div class="link-main">${l}</div><div class="link-sub">${l}</div></div>`;
        list.appendChild(v);
      }
    });
  }
  toast('Preview updated');
}

/* EDITOR UI (inline under panels) */
function showEditor(){
  // create simple editor area in globalPanels if not exists
  let holder = $('#globalEditor');
  if(!holder){
    holder = document.createElement('div'); holder.id = 'globalEditor';
    holder.style.marginTop = '14px';
    holder.innerHTML = `
      <div style="background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); padding:14px; border-radius:12px; border:1px solid rgba(255,255,255,0.03)">
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <input id="editName" class="input" placeholder="display name" style="flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit" />
          <input id="editBio" class="input" placeholder="short bio" style="flex:2;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit" />
          <input id="editLinks" class="input" placeholder="comma separated links" style="flex:3;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit" />
          <button class="btn primary" id="saveEdit">Save</button>
          <button class="btn ghost" id="cancelEdit">Close</button>
        </div>
        <div id="editMsg" class="small" style="margin-top:10px;color:var(--muted)"></div>
      </div>
    `;
    $('#globalPanels').appendChild(holder);

    $('#saveEdit').addEventListener('click', ()=>{
      const name = $('#editName').value.trim() || 'grave';
      const bio = $('#editBio').value.trim() || 'I share music, projects and links.';
      const links = ($('#editLinks').value||'').split(',').map(s=>s.trim()).filter(Boolean);
      updatePreview({name,bio,links});
      $('#editMsg').textContent = 'Saved to preview (mock)';
      setTimeout(()=> $('#editMsg').textContent = '', 2000);
    });
    $('#cancelEdit').addEventListener('click', ()=> holder.remove());
    // prefill
    $('#editName').value = $('#pv-name').textContent.trim();
    $('#editBio').value = $('#pv-bio').textContent.trim();
    const existing = $$('#linksList .link-vertical').map(a => a.dataset.href || (a.querySelector('.link-sub')?.textContent || '')).filter(Boolean);
    $('#editLinks').value = existing.join(',');
  } else {
    holder.remove();
  }
}

/* SIGNUP global function (small modal-less flow) */
function openSignup(){
  // simple inline signup area appended to globalPanels
  let s = $('#globalSignup');
  if(!s){
    s = document.createElement('div'); s.id='globalSignup';
    s.style.marginTop='12px';
    s.innerHTML = `
      <div style="background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); padding:14px; border-radius:12px; border:1px solid rgba(255,255,255,0.03)">
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <input id="signupName" class="input" placeholder="username" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)" />
          <input id="signupEmail" class="input" placeholder="email" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)" />
          <button class="btn primary" id="signupSubmit">Claim</button>
          <button class="btn ghost" id="signupCancel">Cancel</button>
        </div>
        <div id="signupNote" class="small" style="margin-top:10px;color:var(--muted)"></div>
      </div>`;
    $('#globalPanels').appendChild(s);
    $('#signupSubmit').addEventListener('click', ()=>{
      const u = $('#signupName').value.trim(); const e = $('#signupEmail').value.trim();
      if(!/^[a-zA-Z0-9-_]{3,24}$/.test(u)){ $('#signupNote').textContent='Invalid username (3-24 chars).'; $('#signupNote').style.color='tomato'; return; }
      if(!/^\S+@\S+\.\S+$/.test(e)){ $('#signupNote').textContent='Invalid email.'; $('#signupNote').style.color='tomato'; return; }
      $('#signupNote').style.color='var(--muted)'; $('#signupNote').textContent='Claiming (mock)...';
      setTimeout(()=> { $('#signupNote').textContent = 'Claimed — check your email (mock)'; toast('Signup mocked'); $('#signupName').value=''; $('#signupEmail').value=''; }, 900);
    });
    $('#signupCancel').addEventListener('click', ()=> s.remove());
  } else {
    s.remove();
  }
}

/* ADMIN modal logic (password prompt) */
$('#btnAdmin').addEventListener('click', ()=> { $('#adminModal').style.display='flex'; $('#adminModal').setAttribute('aria-hidden','false'); $('#adminPass').focus(); });
$('#adminCancel').addEventListener('click', ()=> { $('#adminModal').style.display='none'; $('#adminModal').setAttribute('aria-hidden','true'); });
$('#adminSubmit').addEventListener('click', ()=> {
  const p = $('#adminPass').value;
  if(p === 'letmein'){ // demo password
    $('#adminModal').style.display='none'; $('#adminModal').setAttribute('aria-hidden','true');
    openAdminPanel();
  } else {
    toast('Wrong password (demo)');
  }
});

/* open admin panel inline */
function openAdminPanel(){
  const container = document.createElement('div');
  container.style.marginTop = '12px';
  container.innerHTML = `
    <div style="background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.03)">
      <h3 style="margin:0 0 8px 0">Admin — Mock</h3>
      <div style="font-size:13px;color:var(--muted);margin-bottom:8px">Manage users & content (client-side mock only).</div>
      <table style="width:100%;border-collapse:collapse;color:#fff"><thead><tr><th style="text-align:left;padding:8px">User</th><th style="padding:8px">Status</th><th style="padding:8px">Actions</th></tr></thead>
      <tbody id="adminTableBody"><tr><td style="padding:8px">demo</td><td style="padding:8px">Active</td><td style="padding:8px"><button class="btn ghost" data-act="ban" data-user="demo">Ban</button></td></tr></tbody></table>
    </div>`;
  $('#globalPanels').appendChild(container);
  // simple handler for actions:
  container.querySelector('#adminTableBody').addEventListener('click', e=>{
    const b = e.target.closest('button');
    if(!b) return;
    const act = b.dataset.act, user = b.dataset.user;
    if(act === 'ban'){ b.textContent='Unban'; b.dataset.act='unban'; toast(user + ' banned (mock)'); }
    else if(act === 'unban'){ b.textContent='Ban'; b.dataset.act='ban'; toast(user + ' unbanned (mock)'); }
  });
}

/* PREVIEW: ensure drag&drop attaches on content changes */
new MutationObserver(()=> {
  $$('.link-vertical', $('#linksList')).forEach(it => it.setAttribute('draggable', 'true'));
}).observe($('#linksList'), {childList:true, subtree:true});

/* INITIAL SETUP */
(function init(){
  // remove active nav highlight
  $$('.nav-btn').forEach(b => b.classList.remove('active'));
  // hide panels initially
  $$('.panel').forEach(p=> p.classList.remove('active'));
  // small fade-in
  setTimeout(()=> document.body.style.visibility='visible', 0);
  toast('grave.bio — ready (demo)');
})();
</script>
</body>
</html>
